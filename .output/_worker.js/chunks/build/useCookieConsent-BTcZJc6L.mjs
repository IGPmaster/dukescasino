import{r as e,Y as a,Z as t,$ as i}from"./server.mjs";const s=e(!1),n=e({necessary:!0,analytics:!0,affiliate:!0}),r=e(!1),o=e(!1);function useCookieConsent(){const l=s,c=r,u=e(null),f=e(""),d=e(""),v=e(""),y=n,updateLobbyLinks=e=>{const a=new URLSearchParams((void 0).location.search),s=a.get("btag"),n=a.get("affid");let r=a.get("tracker");r||(r=e||t("affiliateTracker"));let o=[];r&&o.push(`tracker=${r}`),s&&o.push(`btag=${s}`),n&&o.push(`affid=${n}`);const l=o.join("&"),c=l?`?${l}`:"";f.value=`${i}${c}#registration`,d.value=`${i}${c}#login`,v.value=`${i}${c}#play/`},saveToLocalStorage=e=>{if(!o.value)return;e.analytics,localStorage.setItem("cookieConsent",JSON.stringify({preferences:e,timestamp:(new Date).toISOString(),version:"1.0"}));const a=u.value;if(a)(e=>{if(!e)return void updateLobbyLinks(null);const a=new Date;a.setDate(a.getDate()+30),(void 0).cookie=`affiliateTracker=${e}; max-age=2592000; path=/; SameSite=Strict; Secure`,updateLobbyLinks(e)})(a);else{const e=t("affiliateTracker");updateLobbyLinks(e)}e.analytics};return a(y,(e=>{}),{deep:!0}),{showBanner:l,isPreferencesOpen:c,preferences:y,cookieCategories:[{id:"necessary",label:"Necessary Cookies",description:"Essential for website functionality. These cookies are required and cannot be disabled.",required:!0},{id:"analytics",label:"Analytics Cookies",description:"Help us understand how visitors interact with our website. These cookies collect anonymous information.",required:!1},{id:"affiliate",label:"Affiliate Tracking",description:"Essential for our business operations. We use a unique identifier stored for 30 days to credit our partners when you visit gaming sites. No personal data is collected.",required:!0}],handleAcceptAll:()=>{o.value=!0;const e={necessary:!0,analytics:!0,affiliate:!0};y.value=e,saveToLocalStorage(e),l.value=!1},handleDeclineAll:()=>{o.value=!0;const e={necessary:!0,analytics:!1,affiliate:!0};y.value=e,saveToLocalStorage(e),l.value=!1},savePreferences:()=>{o.value=!0;const e={...y.value,necessary:!0,affiliate:!0};y.value=e,saveToLocalStorage(e),l.value=!1,c.value=!1},handleOpenPreferences:()=>{if(c.value=!0,localStorage.getItem("cookieConsent"))try{const{preferences:e}=JSON.parse(localStorage.getItem("cookieConsent"));y.value={...e,necessary:!0,affiliate:!0}}catch(e){y.value={necessary:!0,analytics:!0,affiliate:!0}}else y.value={necessary:!0,analytics:!0,affiliate:!0}},withdrawConsent:()=>{localStorage.removeItem("cookieConsent"),y.value={necessary:!0,analytics:!1,affiliate:!0},updateLobbyLinks(null),l.value=!0},getConsentStatus:()=>{const e=localStorage.getItem("cookieConsent");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},regLink:f,loginLink:d,playLink:v}}export{useCookieConsent as u};
//# sourceMappingURL=useCookieConsent-BTcZJc6L.mjs.map
