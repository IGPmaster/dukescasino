import{B as t}from"../nitro/nitro.mjs";import{c as e,a0 as r,a1 as s,a2 as o,a3 as i}from"./server.mjs";import{u as n}from"./asyncData-4Pam39Qr.mjs";const a=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function objectHash(t,e){const r=createHasher(e=e?{...a,...e}:a);return r.dispatch(t),r.toString()}const c=Object.freeze(["prototype","__proto__","constructor"]);function createHasher(e){let r="",s=new Map;const write=t=>{r+=t};return{toString:()=>r,getContext:()=>s,dispatch(t){e.replacer&&(t=e.replacer(t));return this[null===t?"null":typeof t](t)},object(r){if(r&&"function"==typeof r.toJSON)return this.object(r.toJSON());const o=Object.prototype.toString.call(r);let i="";const n=o.length;i=n<10?"unknown:["+o+"]":o.slice(8,n-1),i=i.toLowerCase();let a=null;if(void 0!==(a=s.get(r)))return this.dispatch("[CIRCULAR:"+a+"]");if(s.set(r,s.size),void 0!==t&&t.isBuffer&&t.isBuffer(r))return write("buffer:"),write(r.toString("utf8"));if("object"!==i&&"function"!==i&&"asyncfunction"!==i)this[i]?this[i](r):e.ignoreUnknown||this.unkown(r,i);else{let t=Object.keys(r);e.unorderedObjects&&(t=t.sort());let s=[];!1===e.respectType||isNativeFunction(r)||(s=c),e.excludeKeys&&(t=t.filter((t=>!e.excludeKeys(t))),s=s.filter((t=>!e.excludeKeys(t)))),write("object:"+(t.length+s.length)+":");const dispatchForKey=t=>{this.dispatch(t),write(":"),e.excludeValues||this.dispatch(r[t]),write(",")};for(const e of t)dispatchForKey(e);for(const t of s)dispatchForKey(t)}},array(t,r){if(r=void 0===r?!1!==e.unorderedArrays:r,write("array:"+t.length+":"),!r||t.length<=1){for(const e of t)this.dispatch(e);return}const o=new Map,i=t.map((t=>{const r=createHasher(e);r.dispatch(t);for(const[t,e]of r.getContext())o.set(t,e);return r.toString()}));return s=o,i.sort(),this.array(i,!1)},date:t=>write("date:"+t.toJSON()),symbol:t=>write("symbol:"+t.toString()),unkown(t,e){if(write(e),t)return write(":"),t&&"function"==typeof t.entries?this.array(Array.from(t.entries()),!0):void 0},error:t=>write("error:"+t.toString()),boolean:t=>write("bool:"+t),string(t){write("string:"+t.length+":"),write(t)},function(t){write("fn:"),isNativeFunction(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.object(t)},number:t=>write("number:"+t),xml:t=>write("xml:"+t.toString()),null:()=>write("Null"),undefined:()=>write("Undefined"),regexp:t=>write("regex:"+t.toString()),uint8array(t){return write("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return write("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return write("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return write("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return write("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return write("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return write("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return write("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return write("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return write("arraybuffer:"),this.dispatch(new Uint8Array(t))},url:t=>write("url:"+t.toString()),map(t){write("map:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},set(t){write("set:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},file(t){return write("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(e.ignoreUnknown)return write("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>write("domwindow"),bigint:t=>write("bigint:"+t.toString()),process:()=>write("process"),timer:()=>write("timer"),pipe:()=>write("pipe"),tcp:()=>write("tcp"),udp:()=>write("udp"),tty:()=>write("tty"),statwatcher:()=>write("statwatcher"),securecontext:()=>write("securecontext"),connection:()=>write("connection"),zlib:()=>write("zlib"),context:()=>write("context"),nodescript:()=>write("nodescript"),httpparser:()=>write("httpparser"),dataview:()=>write("dataview"),signal:()=>write("signal"),fsevent:()=>write("fsevent"),tlswrap:()=>write("tlswrap")}}const l="[native code] }",h=l.length;function isNativeFunction(t){return"function"==typeof t&&Function.prototype.toString.call(t).slice(-h)===l}var u=Object.defineProperty,__publicField$1=(t,e,r)=>(((t,e,r)=>{e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r);class WordArray{constructor(t,e){__publicField$1(this,"words"),__publicField$1(this,"sigBytes"),t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}toString(t){return(t||d).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const r=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=r<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new WordArray([...this.words])}}const d={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r++){const s=t.words[r>>>2]>>>24-r%4*8&255;e.push((s>>>4).toString(16),(15&s).toString(16))}return e.join("")}},p={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r+=3){const s=(t.words[r>>>2]>>>24-r%4*8&255)<<16|(t.words[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t.words[r+2>>>2]>>>24-(r+2)%4*8&255;for(let o=0;o<4&&8*r+6*o<8*t.sigBytes;o++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s>>>6*(3-o)&63))}return e.join("")}},y={parse(t){const e=t.length,r=[];for(let s=0;s<e;s++)r[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new WordArray(r,e)}},f={parse:t=>y.parse(unescape(encodeURIComponent(t)))};class BufferedBlockAlgorithm{constructor(){__publicField$1(this,"_data",new WordArray),__publicField$1(this,"_nDataBytes",0),__publicField$1(this,"_minBufferSize",0),__publicField$1(this,"blockSize",16)}reset(){this._data=new WordArray,this._nDataBytes=0}_append(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,e){}_process(t){let e,r=this._data.sigBytes/(4*this.blockSize);r=t?Math.ceil(r):Math.max((0|r)-this._minBufferSize,0);const s=r*this.blockSize,o=Math.min(4*s,this._data.sigBytes);if(s){for(let t=0;t<s;t+=this.blockSize)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,s),this._data.sigBytes-=o}return new WordArray(e,o)}}class Hasher extends BufferedBlockAlgorithm{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}var g=Object.defineProperty,__publicField=(t,e,r)=>(((t,e,r)=>{e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,e+"",r),r);const w=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],b=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],m=[];class SHA256 extends Hasher{constructor(){super(...arguments),__publicField(this,"_hash",new WordArray([...w]))}reset(){super.reset(),this._hash=new WordArray([...w])}_doProcessBlock(t,e){const r=this._hash.words;let s=r[0],o=r[1],i=r[2],n=r[3],a=r[4],c=r[5],l=r[6],h=r[7];for(let r=0;r<64;r++){if(r<16)m[r]=0|t[e+r];else{const t=m[r-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,s=m[r-2],o=(s<<15|s>>>17)^(s<<13|s>>>19)^s>>>10;m[r]=e+m[r-7]+o+m[r-16]}const u=s&o^s&i^o&i,d=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),p=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&l)+b[r]+m[r];h=l,l=c,c=a,a=n+p|0,n=i,i=o,o=s,s=p+(d+u)|0}r[0]=r[0]+s|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+n|0,r[4]=r[4]+a|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+h|0}finalize(t){super.finalize(t);const e=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(r+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function hash(t,e={}){const r="string"==typeof t?t:objectHash(t,e);return(s=r,(new SHA256).finalize(s).toString(p)).slice(0,10);var s}function useFetch(t,a,c){const[l={},h]="string"==typeof a?[{},a]:[a,c],u=e((()=>o(t))),d=l.key||hash([h,"string"==typeof u.value?u.value:"",...generateOptionSegments(l)]);if(!d||"string"!=typeof d)throw new TypeError("[nuxt] [useFetch] key must be a string: "+d);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const p=d===h?"$f"+d:d;if(!l.baseURL&&"string"==typeof u.value&&"/"===u.value[0]&&"/"===u.value[1])throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:y,lazy:f,default:g,transform:w,pick:b,watch:m,immediate:B,getCachedData:v,deep:_,dedupe:S,...A}=l,x=r({...s,...A,cache:"boolean"==typeof l.cache?void 0:l.cache}),j={server:y,lazy:f,default:g,transform:w,pick:b,immediate:B,getCachedData:v,deep:_,dedupe:S,watch:!1===m?[]:[x,u,...m||[]]};let k;return n(p,(()=>{var t;null==(t=null==k?void 0:k.abort)||t.call(k,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),k="undefined"!=typeof AbortController?new AbortController:{};const e=o(l.timeout);let r;e&&(r=setTimeout((()=>k.abort(new DOMException("Request aborted due to timeout.","AbortError"))),e),k.signal.onabort=()=>clearTimeout(r));let s=l.$fetch||globalThis.$fetch;if(!l.$fetch){"string"==typeof u.value&&"/"===u.value[0]&&(!o(l.baseURL)||"/"===o(l.baseURL)[0])&&(s=i())}return s(u.value,{signal:k.signal,...x}).finally((()=>{clearTimeout(r)}))}),j)}function generateOptionSegments(t){var e;const r=[(null==(e=o(t.method))?void 0:e.toUpperCase())||"GET",o(t.baseURL)];for(const e of[t.params||t.query]){const t=o(e);if(!t)continue;const s={};for(const[e,r]of Object.entries(t))s[o(e)]=o(r);r.push(s)}return r}export{useFetch as u};
//# sourceMappingURL=fetch-f_kCaUdO.mjs.map
